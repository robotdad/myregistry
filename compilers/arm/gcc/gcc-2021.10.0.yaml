# ARM GCC Toolsuite
# install with `ce add arm/gcc`

info:
  id: compilers/arm/gcc
  version: 2021.10.0
  description: >-
    The GNU Arm Embedded Toolchain is a ready-to-use, open-source suite of tools for C, C++ and assembly programming. 
    The GNU Arm Embedded Toolchain targets the 32-bit Arm Cortex-A, Arm Cortex-M, and Arm Cortex-R processor families. 
    The GNU Arm Embedded Toolchain includes the GNU Compiler (GCC) and is available free of charge directly from Arm 
    for embedded software development on Windows, Linux, and Mac OS X operating systems.
    
  summary: GCC compiler for ARM CPUs.

contacts:
  Garrett Serack: 
    email: garretts@microsoft.com
    role: publisher
demands:
  windows:
    install:
      unzip: https://developer.arm.com/-/media/Files/downloads/gnu-rm/10.3-2021.10/gcc-arm-none-eabi-10.3-2021.10-win32.zip
      sha256: d287439b3090843f3f4e29c7c41f81d958a5323aecefcf705c203bfd8ae3f2e7
      strip: 1 # 

    settings:
      tools:
        # tools exposed by name
        # todo: add more tools to expose by name
        CC: bin/arm-none-eabi-gcc.exe
        CXX: bin/arm-none-eabi-g++.exe
        AR: arm-none-eabi/bin/ar.exe
        AS: arm-none-eabi/bin/as.exe

      paths:
        # we'd prepend these paths to the PATH environment variable. 
        path: bin

  linux and arm64: 
    install: 
      untar: https://developer.arm.com/-/media/Files/downloads/gnu-rm/10.3-2021.10/gcc-arm-none-eabi-10.3-2021.10-aarch64-linux.tar.bz2
      sha256: f605b5f23ca898e9b8b665be208510a54a6e9fdd0fa5bfc9592002f6e7431208
      strip: 1

  linux and x64: 
    install: 
      untar: https://developer.arm.com/-/media/Files/downloads/gnu-rm/10.3-2021.10/gcc-arm-none-eabi-10.3-2021.10-x86_64-linux.tar.bz2
      sha256: 97dbb4f019ad1650b732faffcc881689cedc14e2b7ee863d390e0a41ef16c9a3
      strip: 1

  osx and x64: 
    install: 
      untar: https://developer.arm.com/-/media/Files/downloads/gnu-rm/10.3-2021.10/gcc-arm-none-eabi-10.3-2021.10-mac.tar.bz2
      sha256: fb613dacb25149f140f73fe9ff6c380bb43328e6bf813473986e9127e2bc283b
      strip: 1

  not windows:
    settings:
      tools:
        # tools exposed by name
        # todo: add more tools to expose by name
        CC: bin/arm-none-eabi-gcc
        CXX: bin/arm-none-eabi-g++
        AR: arm-none-eabi/bin/ar
        AS: arm-none-eabi/bin/as

      paths:
        path: bin
        # we'd prepend these paths to the PATH environment variable. 

  linux:
    warning: Ensure libncurses5 is installed with your system package manager before running arm-none-eabi-gdb.
